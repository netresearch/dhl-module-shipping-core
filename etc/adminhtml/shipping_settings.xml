<?xml version="1.0" ?>
<carriers xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Dhl_ShippingCore/etc/shipping_settings.xsd">
    <carrier code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::CARRIER_BASE">
        <packageOptions>
            <shippingOption code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_OPTION_PACKAGE_DETAILS">
                <label>Package Details</label>
                <inputs>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_PRODUCT_CODE">
                        <label>Shipping Product</label>
                        <inputType>radioset</inputType>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_CUSTOM_PACKAGE_ID">
                        <label>Container</label>
                        <inputType>select</inputType>
                        <tooltip>
                            You can configure your preset package sizes in the system configuration
                        </tooltip>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_PACKAGING_WEIGHT">
                        <label>Tare weight</label>
                        <inputType>prefixed</inputType>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_WEIGHT">
                        <label>Total Weight</label>
                        <inputType>prefixed</inputType>
                        <validationRules>
                            <rule name="validate-number"/>
                            <rule name="validate-greater-than-zero"/>
                        </validationRules>
                        <itemCombinationRule>
                            <sourceItemInputCode>Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_OPTION_DETAILS.weight</sourceItemInputCode>
                            <additionalSourceInputCodes>
                                <input>Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_OPTION_PACKAGE_DETAILS.packagingWeight</input>
                            </additionalSourceInputCodes>
                            <action>add</action>
                        </itemCombinationRule>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_WEIGHT_UNIT">
                        <inputType>hidden</inputType>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_WIDTH">
                        <label>Width</label>
                        <inputType>prefixed</inputType>
                        <validationRules>
                            <rule name="validate-number"/>
                        </validationRules>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_HEIGHT">
                        <label>Height</label>
                        <inputType>prefixed</inputType>
                        <validationRules>
                            <rule name="validate-number"/>
                        </validationRules>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_LENGTH">
                        <label>Length</label>
                        <inputType>prefixed</inputType>
                        <validationRules>
                            <rule name="validate-number"/>
                        </validationRules>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_SIZE_UNIT">
                        <inputType>hidden</inputType>
                    </input>
                </inputs>
            </shippingOption>
            <shippingOption code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_OPTION_PACKAGE_CUSTOMS">
                <label>Customs Data</label>
                <routes>
                    <route>
                        <excludeDestinations>
                            <destination>domestic</destination>
                        </excludeDestinations>
                    </route>
                    <route>
                        <origin>eu</origin>
                        <excludeDestinations>
                            <destination>eu</destination>
                        </excludeDestinations>
                    </route>
                </routes>
                <inputs>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_CUSTOMS_VALUE">
                        <label>Customs Value</label>
                        <inputType>prefixed</inputType>
                        <validationRules>
                            <rule name="validate-number"/>
                        </validationRules>
                        <itemCombinationRule>
                            <sourceItemInputCode>\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_OPTION_ITEM_CUSTOMS.customsValue</sourceItemInputCode>
                            <action>add</action>
                        </itemCombinationRule>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_EXPORT_DESCRIPTION">
                        <sortOrder>1000</sortOrder>
                        <label>Package Description</label>
                        <inputType>textarea</inputType>
                        <itemCombinationRule>
                            <sourceItemInputCode>\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_OPTION_ITEM_CUSTOMS.exportDescription</sourceItemInputCode>
                            <action>concat</action>
                        </itemCombinationRule>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_TERMS_OF_TRADE" defaultConfigValue="\Dhl\ShippingCore\Api\ConfigInterface::CONFIG_PATH_TERMS_OF_TRADE">
                        <label>Terms of Trade</label>
                        <inputType>select</inputType>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_CONTENT_TYPE" defaultConfigValue="\Dhl\ShippingCore\Api\ConfigInterface::CONFIG_PATH_CONTENT_TYPE">
                        <label>Export Content Type</label>
                        <inputType>select</inputType>
                    </input>
                    <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_INPUT_EXPLANATION" defaultConfigValue="\Dhl\ShippingCore\Api\ConfigInterface::CONFIG_PATH_CONTENT_EXPLANATION">
                        <label>Export Content Explanation</label>
                        <inputType>text</inputType>
                        <validationRules>
                            <rule name="required"/>
                        </validationRules>
                    </input>
                </inputs>
            </shippingOption>
        </packageOptions>
        <itemOptions>
            <itemShippingOptions itemId="0">
                <shippingOptions>
                    <shippingOption code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_OPTION_DETAILS">
                        <label>Item Details</label>
                        <inputs>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_PRODUCT_ID">
                                <inputType>hidden</inputType>
                            </input>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_PRODUCT_NAME">
                                <inputType>hidden</inputType>
                            </input>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_PRICE">
                                <inputType>hidden</inputType>
                            </input>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_QTY_TO_SHIP">
                                <sortOrder>10</sortOrder>
                                <label>Quantity to Ship</label>
                                <inputType>static</inputType>
                                <disabled>true</disabled>
                            </input>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_QTY">
                                <sortOrder>20</sortOrder>
                                <label>Quantity</label>
                                <inputType>text</inputType>
                                <validationRules>
                                    <rule name="validate-number"/>
                                </validationRules>
                            </input>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_WEIGHT">
                                <sortOrder>30</sortOrder>
                                <label>Weight</label>
                                <inputType>prefixed</inputType>
                                <validationRules>
                                    <rule name="validate-number"/>
                                </validationRules>
                            </input>
                        </inputs>
                    </shippingOption>
                    <shippingOption code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_OPTION_ITEM_CUSTOMS">
                        <label>Customs Data</label>
                        <routes>
                            <route>
                                <excludeDestinations>
                                    <destination>domestic</destination>
                                </excludeDestinations>
                            </route>
                            <route>
                                <origin>eu</origin>
                                <excludeDestinations>
                                    <destination>eu</destination>
                                </excludeDestinations>
                            </route>
                        </routes>
                        <inputs>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_CUSTOMS_VALUE">
                                <sortOrder>10</sortOrder>
                                <label>Customs Value</label>
                                <inputType>prefixed</inputType>
                                <validationRules>
                                    <rule name="validate-number"/>
                                </validationRules>
                            </input>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_HS_CODE">
                                <sortOrder>20</sortOrder>
                                <label>HS Code</label>
                                <inputType>text</inputType>
                            </input>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_COUNTRY_OF_ORIGIN">
                                <sortOrder>30</sortOrder>
                                <label>Country of Origin</label>
                                <inputType>select</inputType>
                            </input>
                            <input code="\Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::ITEM_INPUT_EXPORT_DESCRIPTION">
                                <sortOrder>1000</sortOrder>
                                <label>Export Description</label>
                                <inputType>textarea</inputType>
                            </input>
                        </inputs>
                    </shippingOption>
                </shippingOptions>
            </itemShippingOptions>
        </itemOptions>
        <serviceOptions>
            <shippingOption code="cashOnDelivery">
                <sortOrder>1000</sortOrder>
                <label>Cash on Delivery</label>
                <inputs>
                    <input code="enabled">
                        <label>Cash on Delivery</label>
                        <inputType>checkbox</inputType>
                        <disabled>true</disabled>
                        <defaultValue>false</defaultValue>
                    </input>
                </inputs>
            </shippingOption>
        </serviceOptions>
        <compatibilityData>
            <rule id="contentTypeDependency">
                <masters>
                    <master>Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_OPTION_PACKAGE_CUSTOMS.contentType</master>
                </masters>
                <triggerValue>OTHER</triggerValue>
                <action>show</action>
                <subjects>
                    <subject>Dhl\ShippingCore\Model\ShippingSettings\ShippingOption\Codes::PACKAGING_OPTION_PACKAGE_CUSTOMS.explanation</subject>
                </subjects>
            </rule>
        </compatibilityData>
    </carrier>
</carriers>
